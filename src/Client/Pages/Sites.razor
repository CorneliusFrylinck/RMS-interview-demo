@page "/sites"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using Microsoft.AspNetCore.Authorization
@using CanidateApp.Shared
@attribute [Authorize]


<UseGetSites Strategy="ExecutionStrategy.CacheAndNetwork"  Context="result">
    <ChildContent>
        <MudTable Items="@result.Sites">
            <HeaderContent>
                <MudTh>Id</MudTh>
                <MudTh>Site Name</MudTh>
                <MudTh>Client</MudTh>
                <MudTh>Status</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Id">@context.Id</MudTd>
                <MudTd DataLabel="Site Name">@context.Name</MudTd>
                <MudTd DataLabel="Client">@context.Client.Name</MudTd>
                <MudTd DataLabel="Status" >@context.TowerStatusType.Name</MudTd>
            </RowTemplate>
            <PagerContent>
                <MudTablePager />
            </PagerContent>
        </MudTable>
    </ChildContent>
</UseGetSites>

@code {
    
}
